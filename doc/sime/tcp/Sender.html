<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_09) on Mon Dec 08 14:40:43 EST 2014 -->
<title>Sender</title>
<meta name="date" content="2014-12-08">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Sender";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Sender.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../sime/tcp/Segment.html" title="class in sime.tcp"><span class="strong">Prev Class</span></a></li>
<li><a href="../../sime/tcp/SenderNewReno.html" title="class in sime.tcp"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?sime/tcp/Sender.html" target="_top">Frames</a></li>
<li><a href="Sender.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">sime.tcp</div>
<h2 title="Class Sender" class="title">Class Sender</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>sime.tcp.Sender</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../sime/TimedComponent.html" title="interface in sime">TimedComponent</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../sime/tcp/SenderReno.html" title="class in sime.tcp">SenderReno</a>, <a href="../../sime/tcp/SenderTahoe.html" title="class in sime.tcp">SenderTahoe</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">Sender</span>
extends java.lang.Object
implements <a href="../../sime/TimedComponent.html" title="interface in sime">TimedComponent</a></pre>
<div class="block">The base class for a TCP sender protocol module.<BR>
 Because this is a simple simulator, some intricate details
 of TCP senders are left out. For example, this code does
 not implement a <a href="http://www.pcvr.nl/tcpip/tcp_pers.htm" target="page">persist timer</a>
 as described in <a href="http://tools.ietf.org/html/rfc1122" target="page">RFC 1122</a>
 Section 4.2.2.17 (related to "zero-window probes", when the receiver
 reports a zero-size receive window).</p>
 
 <p> <b>Note</b>: If you are in doubt or some of this code is conflicting
 your textbook, please check the ultimate sources:
 <a href="http://tools.ietf.org/html/rfc5681" target="page">RFC 5681</a>
 and <a href="http://www.apps.ietf.org/rfc/rfc2581.html" target="page">RFC 2581</a>.
 An older document, although outdated, may also be of interest:
 <a href="http://www.apps.ietf.org/rfc/rfc2001.html" target="page">RFC 2001</a>.
 <BR><i>Do not rely on any textbooks for precise details!</i>
 <BR> Read the textbook(s) for high-level understanding of
 the material; read the RFCs for precise details.</p></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Ivan Marsic</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../sime/tcp/SenderTahoe.html" title="class in sime.tcp"><code>SenderTahoe</code></a>, 
<a href="../../sime/tcp/SenderReno.html" title="class in sime.tcp"><code>SenderReno</code></a>, 
<a href="../../sime/tcp/SenderNewReno.html" title="class in sime.tcp"><code>SenderNewReno</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.nio.ByteBuffer</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#bytestream">bytestream</a></strong></code>
<div class="block">TCP bytestream to send to the receiver endpoint.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#congWindow">congWindow</a></strong></code>
<div class="block">Current congestion window size, in bytes.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../sime/tcp/SenderState.html" title="class in sime.tcp">SenderState</a></code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#currentState">currentState</a></strong></code>
<div class="block">Sender's current state.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#dupACKcount">dupACKcount</a></strong></code>
<div class="block">Counter of duplicate acknowledgments.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#dupACKthreshold">dupACKthreshold</a></strong></code>
<div class="block">The threshold number of duplicate acknowledgments after which
 the TCP sender will assume that the oldest outstanding segment
 is lost and perform <em>Fast Retransmit</em>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../sime/TimerSimulated.html" title="class in sime">TimerSimulated</a></code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#idleConnectionTimer">idleConnectionTimer</a></strong></code>
<div class="block">This is a TCP connection "inactivity-timeout" timer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../sime/TimerSimulated.html" title="class in sime">TimerSimulated</a></code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#idleConnectionTimerHandle">idleConnectionTimerHandle</a></strong></code>
<div class="block">Handle to a running "idle-connection" timer (<a href="../../sime/tcp/Sender.html#idleConnectionTimer"><code>idleConnectionTimer</code></a>),
 so it can be canceled, if needed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#lastByteAcked">lastByteAcked</a></strong></code>
<div class="block">Pointer to the last byte ACKed so far.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#lastByteSent">lastByteSent</a></strong></code>
<div class="block">Pointer to the last byte sent so far.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#lastByteSentBefore3xDupAcksRecvd">lastByteSentBefore3xDupAcksRecvd</a></strong></code>
<div class="block">Pointer to the last byte sent <a href="../../sime/tcp/Sender.html#lastByteSent"><code>lastByteSent</code></a>
 at the time when <a href="../../sime/tcp/Sender.html#dupACKthreshold"><code>dupACKthreshold</code></a> duplicate acknowledgments
 were received.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../sime/Endpoint.html" title="class in sime">Endpoint</a></code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#localEndpoint">localEndpoint</a></strong></code>
<div class="block">Local endpoint that contains this sender object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#MSS">MSS</a></strong></code>
<div class="block">Maximum segment size, in bytes.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#rcvWindow">rcvWindow</a></strong></code>
<div class="block">Last advertised size of the currently available space in the receiver's buffer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../sime/tcp/RTOEstimator.html" title="class in sime.tcp">RTOEstimator</a></code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#rtoEstimator">rtoEstimator</a></strong></code>
<div class="block">Retransmission timer (RTO) estimation;
 performed after each new ACK is received.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../sime/TimerSimulated.html" title="class in sime">TimerSimulated</a></code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#rtoTimer">rtoTimer</a></strong></code>
<div class="block">Retransmission timer (RTO) value, measured in simulator time ticks
 that are defined by <a href="../../sime/Simulator.html#getTimeIncrement()"><code>Simulator.getTimeIncrement()</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../sime/TimerSimulated.html" title="class in sime">TimerSimulated</a></code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#rtoTimerHandle">rtoTimerHandle</a></strong></code>
<div class="block">Handle to a running RTO timer (<a href="../../sime/tcp/Sender.html#rtoTimer"><code>rtoTimer</code></a>), so it can be canceled, if needed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#SSThresh">SSThresh</a></strong></code>
<div class="block">The Slow-Start threshold is a dynamically-set value indicating
 an upper bound on the congestion window above which a
 TCP sender transitions from Slow-Start to the Congestion Avoidance
 state.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static int</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#TIMER_DEFAULT">TIMER_DEFAULT</a></strong></code>
<div class="block">Default value of the timer, in our case equals to 3 &times; RTT.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#Sender(sime.Endpoint)">Sender</a></strong>(<a href="../../sime/Endpoint.html" title="class in sime">Endpoint</a>&nbsp;localTCPendpoint_)</code>
<div class="block">Base class constructor; not public.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#cancelRTOtimer()">cancelRTOtimer</a></strong>()</code>
<div class="block">Helper method, called from derived classes to cancel
 the retransmission (RTO) timer when there are no
 more unacknowledged segments.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../sime/tcp/Segment.html" title="class in sime.tcp">Segment</a></code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#getOldestUnacknowledgedSegment()">getOldestUnacknowledgedSegment</a></strong>()</code>
<div class="block">Helper method to extract the oldest unacknowledged segment
 from the input bytestream.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#getTotalBytesTransmitted()">getTotalBytesTransmitted</a></strong>()</code>
<div class="block">Accessor for retrieving the statistics of the total number
 of bytes <i>successfully</i> transmitted so far during this
 simulation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#handle(sime.tcp.Segment)">handle</a></strong>(<a href="../../sime/tcp/Segment.html" title="class in sime.tcp">Segment</a>&nbsp;ack_)</code>
<div class="block">Processes ACKs received from the receiver.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) abstract void</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#onExpiredRTOtimer()">onExpiredRTOtimer</a></strong>()</code>
<div class="block">Helper method, called on the expired retransmission timeout (RTO) timer
 from the sender's current state object  <a href="../../sime/tcp/SenderState.html#handleRTOtimeout(sime.tcp.Segment)"><code>SenderState.handleRTOtimeout(sime.tcp.Segment)</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) abstract void</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#onThreeDuplicateACKs()">onThreeDuplicateACKs</a></strong>()</code>
<div class="block">Helper method, called on threshold number of duplicate ACKs.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#resetParametersToSlowStart()">resetParametersToSlowStart</a></strong>()</code>
<div class="block">This method provides a single place to reset
 the congestion parameters when the sender needs
 to transition to the slow start state from another state.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#send(byte[])">send</a></strong>(byte[]&nbsp;newData_)</code>
<div class="block">"Sends" segments by passing them to the network layer protocol object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#startIdleConnectionTimer()">startIdleConnectionTimer</a></strong>()</code>
<div class="block">Helper method to start up the idle-connection timer countdown.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#startRTOtimer()">startRTOtimer</a></strong>()</code>
<div class="block">Helper method, called from derived classes to start up
 or re-start the retransmission (RTO) timer countdown.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/Sender.html#timerExpired(int)">timerExpired</a></strong>(int&nbsp;timerType_)</code>
<div class="block">Callback method to call when a simulated timer expires.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="bytestream">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bytestream</h4>
<pre>protected&nbsp;java.nio.ByteBuffer bytestream</pre>
<div class="block">TCP bytestream to send to the receiver endpoint.</div>
</li>
</ul>
<a name="congWindow">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>congWindow</h4>
<pre>int congWindow</pre>
<div class="block">Current congestion window size, in bytes.
 (Note the package visibility, needed for the TCPSenderState object
 to access and modify this attribute.)</div>
</li>
</ul>
<a name="currentState">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentState</h4>
<pre>protected&nbsp;<a href="../../sime/tcp/SenderState.html" title="class in sime.tcp">SenderState</a> currentState</pre>
<div class="block">Sender's current state.</div>
</li>
</ul>
<a name="dupACKcount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dupACKcount</h4>
<pre>protected&nbsp;int dupACKcount</pre>
<div class="block">Counter of duplicate acknowledgments.
 If the counter reaches three (3) or more dup-ACKs, the sender assumes
 that the oldest unacknowledged segment is lost and needs to be retransmitted.</div>
</li>
</ul>
<a name="dupACKthreshold">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dupACKthreshold</h4>
<pre>protected static final&nbsp;int dupACKthreshold</pre>
<div class="block">The threshold number of duplicate acknowledgments after which
 the TCP sender will assume that the oldest outstanding segment
 is lost and perform <em>Fast Retransmit</em>.
 Usually set to 3.</p>
 <p>Note that because the threshold value is usually 3,
 all related variables are named with <em>3dupAcks</em>,
 such as <a href="../../sime/tcp/Sender.html#lastByteSentBefore3xDupAcksRecvd"><code>lastByteSentBefore3xDupAcksRecvd</code></a> or
 the method <a href="../../sime/tcp/Sender.html#onThreeDuplicateACKs()"><code>onThreeDuplicateACKs()</code></a>.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../constant-values.html#sime.tcp.Sender.dupACKthreshold">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="idleConnectionTimer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>idleConnectionTimer</h4>
<pre><a href="../../sime/TimerSimulated.html" title="class in sime">TimerSimulated</a> idleConnectionTimer</pre>
<div class="block">This is a TCP connection "inactivity-timeout" timer.
 Both <a href="http://www.apps.ietf.org/rfc/rfc2581.html" target="page">RFC 2581</a>
 and <a href="http://tools.ietf.org/html/rfc5681" target="page">RFC 5681</a>
 in Section&nbsp;4.1: <em>Restarting Idle Connections</em>, state that
 the TCP sender should begin in <em>slow start</em> if it has not sent
 data in an interval exceeding the retransmission timeout
 (<a href="../../sime/tcp/Sender.html#rtoTimer"><code>rtoTimer</code></a>).</p>
 
 <p> Check also <a href="http://www.isi.edu/touch/pubs/draft-hughes-restart-00.txt" target="page">Issues
 in TCP Slow-Start Restart After Idle</a>.</p></div>
</li>
</ul>
<a name="idleConnectionTimerHandle">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>idleConnectionTimerHandle</h4>
<pre>protected&nbsp;<a href="../../sime/TimerSimulated.html" title="class in sime">TimerSimulated</a> idleConnectionTimerHandle</pre>
<div class="block">Handle to a running "idle-connection" timer (<a href="../../sime/tcp/Sender.html#idleConnectionTimer"><code>idleConnectionTimer</code></a>),
 so it can be canceled, if needed.</div>
</li>
</ul>
<a name="lastByteAcked">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastByteAcked</h4>
<pre>protected&nbsp;int lastByteAcked</pre>
<div class="block">Pointer to the last byte ACKed so far.
 Recall that the bytes are numbered from zero, so the sequence
 number of the first byte is zero, etc.</div>
</li>
</ul>
<a name="lastByteSent">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastByteSent</h4>
<pre>protected&nbsp;int lastByteSent</pre>
<div class="block">Pointer to the last byte sent so far.
 Recall that the bytes are numbered from zero, so the sequence
 number of the first byte is zero, etc.</div>
</li>
</ul>
<a name="lastByteSentBefore3xDupAcksRecvd">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastByteSentBefore3xDupAcksRecvd</h4>
<pre>protected&nbsp;int lastByteSentBefore3xDupAcksRecvd</pre>
<div class="block">Pointer to the last byte sent <a href="../../sime/tcp/Sender.html#lastByteSent"><code>lastByteSent</code></a>
 at the time when <a href="../../sime/tcp/Sender.html#dupACKthreshold"><code>dupACKthreshold</code></a> duplicate acknowledgments
 were received. Only when all the data outstanding at
 that moment are acknowledged will the sender have
 fully recovered from the loss.
 
 <p>In the worst case scenario, all of the currently
 outstanding data might have been lost and will
 need to be retransmitted. The sender doesn't know
 this, so it keeps track of it.<BR>
 (Recall that a Go-Back-N protocol would
 now re-transmit all outstanding data.)</div>
</li>
</ul>
<a name="localEndpoint">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>localEndpoint</h4>
<pre><a href="../../sime/Endpoint.html" title="class in sime">Endpoint</a> localEndpoint</pre>
<div class="block">Local endpoint that contains this sender object.</div>
</li>
</ul>
<a name="MSS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MSS</h4>
<pre>public static final&nbsp;int MSS</pre>
<div class="block">Maximum segment size, in bytes. Same for both sending/receiving endpoints.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../constant-values.html#sime.tcp.Sender.MSS">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="rcvWindow">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rcvWindow</h4>
<pre>protected&nbsp;int rcvWindow</pre>
<div class="block">Last advertised size of the currently available space in the receiver's buffer.</div>
</li>
</ul>
<a name="rtoEstimator">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rtoEstimator</h4>
<pre><a href="../../sime/tcp/RTOEstimator.html" title="class in sime.tcp">RTOEstimator</a> rtoEstimator</pre>
<div class="block">Retransmission timer (RTO) estimation;
 performed after each new ACK is received.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../sime/tcp/RTOEstimator.html" title="class in sime.tcp"><code>RTOEstimator</code></a></dd></dl>
</li>
</ul>
<a name="rtoTimer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rtoTimer</h4>
<pre><a href="../../sime/TimerSimulated.html" title="class in sime">TimerSimulated</a> rtoTimer</pre>
<div class="block">Retransmission timer (RTO) value, measured in simulator time ticks
 that are defined by <a href="../../sime/Simulator.html#getTimeIncrement()"><code>Simulator.getTimeIncrement()</code></a>.</p>
 
 <p>The timer is activated when a new segment is transmitted.
 When all outstanding segments are acknowledged, the timer is
 deactivated.  When a <i>regular</i> acknowledgment is received
 <b>and</b> there are still outstanding, non-acknowledged segments,
 the timer should be <b>re-started</b>.</div>
</li>
</ul>
<a name="rtoTimerHandle">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rtoTimerHandle</h4>
<pre>protected&nbsp;<a href="../../sime/TimerSimulated.html" title="class in sime">TimerSimulated</a> rtoTimerHandle</pre>
<div class="block">Handle to a running RTO timer (<a href="../../sime/tcp/Sender.html#rtoTimer"><code>rtoTimer</code></a>), so it can be canceled, if needed.</div>
</li>
</ul>
<a name="SSThresh">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SSThresh</h4>
<pre>int SSThresh</pre>
<div class="block">The Slow-Start threshold is a dynamically-set value indicating
 an upper bound on the congestion window above which a
 TCP sender transitions from Slow-Start to the Congestion Avoidance
 state. The default value is 65535 bytes (or 64 KBytes).
 (Note the package visibility of this field.)</div>
</li>
</ul>
<a name="TIMER_DEFAULT">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TIMER_DEFAULT</h4>
<pre>static final&nbsp;int TIMER_DEFAULT</pre>
<div class="block">Default value of the timer, in our case equals to 3 &times; RTT.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../constant-values.html#sime.tcp.Sender.TIMER_DEFAULT">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Sender(sime.Endpoint)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Sender</h4>
<pre>protected&nbsp;Sender(<a href="../../sime/Endpoint.html" title="class in sime">Endpoint</a>&nbsp;localTCPendpoint_)</pre>
<div class="block">Base class constructor; not public.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="cancelRTOtimer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancelRTOtimer</h4>
<pre>void&nbsp;cancelRTOtimer()</pre>
<div class="block">Helper method, called from derived classes to cancel
 the retransmission (RTO) timer when there are no
 more unacknowledged segments.</div>
</li>
</ul>
<a name="getOldestUnacknowledgedSegment()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOldestUnacknowledgedSegment</h4>
<pre><a href="../../sime/tcp/Segment.html" title="class in sime.tcp">Segment</a>&nbsp;getOldestUnacknowledgedSegment()</pre>
<div class="block">Helper method to extract the oldest unacknowledged segment
 from the input bytestream.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Returns the oldest currently unacknowledged segment.</dd></dl>
</li>
</ul>
<a name="getTotalBytesTransmitted()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTotalBytesTransmitted</h4>
<pre>public&nbsp;int&nbsp;getTotalBytesTransmitted()</pre>
<div class="block">Accessor for retrieving the statistics of the total number
 of bytes <i>successfully</i> transmitted so far during this
 simulation.  This value is used for statistics gathering and
 reporting purposes.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Returns the cumulative number of bytes <i>successfully</i> transmitted thus far.</dd></dl>
</li>
</ul>
<a name="handle(sime.tcp.Segment)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handle</h4>
<pre>public&nbsp;void&nbsp;handle(<a href="../../sime/tcp/Segment.html" title="class in sime.tcp">Segment</a>&nbsp;ack_)</pre>
<div class="block">Processes ACKs received from the receiver.
 Checks for duplicate ACKs and dispatches them
 differently for processing.<BR>
 If a new ACK is received (acknowledging previously
 unacknowledged data), the sender's window may have
 opened to send some more segments, so this method
 will call <a href="../../sime/tcp/Sender.html#send(byte[])"><code>send(byte[])</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>ack_</code> - An acknowledgment received from the receiver.</dd></dl>
</li>
</ul>
<a name="onExpiredRTOtimer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onExpiredRTOtimer</h4>
<pre>abstract&nbsp;void&nbsp;onExpiredRTOtimer()</pre>
<div class="block">Helper method, called on the expired retransmission timeout (RTO) timer
 from the sender's current state object  <a href="../../sime/tcp/SenderState.html#handleRTOtimeout(sime.tcp.Segment)"><code>SenderState.handleRTOtimeout(sime.tcp.Segment)</code></a>.
 Works slightly differently for different types of TCP senders (Tahoe, Reno, etc.).</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../sime/tcp/SenderState.html" title="class in sime.tcp"><code>SenderState</code></a></dd></dl>
</li>
</ul>
<a name="onThreeDuplicateACKs()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onThreeDuplicateACKs</h4>
<pre>abstract&nbsp;void&nbsp;onThreeDuplicateACKs()</pre>
<div class="block">Helper method, called on threshold number of duplicate ACKs.
 Works differently for different types of TCP senders (Tahoe, Reno, etc.).<BR>
 Note that the threshold number can be modified, see the
 attribute <a href="../../sime/tcp/Sender.html#dupACKthreshold"><code>dupACKthreshold</code></a>, but this method is named
 after the commonly used value of <tt>3</tt> dupACKs.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../sime/tcp/SenderState.html" title="class in sime.tcp"><code>SenderState</code></a></dd></dl>
</li>
</ul>
<a name="resetParametersToSlowStart()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetParametersToSlowStart</h4>
<pre>public&nbsp;void&nbsp;resetParametersToSlowStart()</pre>
<div class="block">This method provides a single place to reset
 the congestion parameters when the sender needs
 to transition to the slow start state from another state.</p>
 
 <p>Note that this method does not modify the
 current value of <a href="../../sime/tcp/Sender.html#SSThresh"><code>SSThresh</code></a>.</div>
</li>
</ul>
<a name="send(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>send</h4>
<pre>public&nbsp;void&nbsp;send(byte[]&nbsp;newData_)</pre>
<div class="block">"Sends" segments by passing them to the network layer protocol object.
 Note that TCP sender operates the same <code>send()</code>
 regardless of its current state. The sender state is used
 in <a href="../../sime/tcp/Sender.html#handle(sime.tcp.Segment)"><code>handle(Segment)</code></a> to process the acknowledgment
 segments from the receiver. During ACK processing, the
 sending parameters will be set, that are used in this
 <code>send()</code> method.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>newData_</code> - The new message to send</dd></dl>
</li>
</ul>
<a name="startIdleConnectionTimer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startIdleConnectionTimer</h4>
<pre>void&nbsp;startIdleConnectionTimer()</pre>
<div class="block">Helper method to start up the idle-connection timer countdown.
 This timer must be started only if <em>zero</em> data
 is left to send <em>and</em> the sender has received
 acknowledgment for all outstanding data.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../sime/tcp/Sender.html#idleConnectionTimer"><code>idleConnectionTimer</code></a></dd></dl>
</li>
</ul>
<a name="startRTOtimer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startRTOtimer</h4>
<pre>void&nbsp;startRTOtimer()</pre>
<div class="block">Helper method, called from derived classes to start up
 or re-start the retransmission (RTO) timer countdown.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../sime/tcp/Sender.html#rtoTimer"><code>rtoTimer</code></a></dd></dl>
</li>
</ul>
<a name="timerExpired(int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>timerExpired</h4>
<pre>public&nbsp;void&nbsp;timerExpired(int&nbsp;timerType_)</pre>
<div class="block">Callback method to call when a simulated timer expires. <BR>
 Currently, TCP Sender sets two types of timers:<BR>
 &bull; retransmission (RTO) timer (<a href="../../sime/tcp/Sender.html#rtoTimer"><code>rtoTimer</code></a>), set as type "<tt>1</tt>"<BR>
 &bull; inactivity-timeout timer (<a href="../../sime/tcp/Sender.html#idleConnectionTimer"><code>idleConnectionTimer</code></a>), set as type "<tt>2</tt>"
 </p>
 
 <p>In case of an expired RTO timer, this method will ask
 the current state object to handle the expired-timer event
 which, in turn, will call <a href="../../sime/tcp/Sender.html#onExpiredRTOtimer()"><code>onExpiredRTOtimer()</code></a></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../sime/TimedComponent.html#timerExpired(int)">timerExpired</a></code>&nbsp;in interface&nbsp;<code><a href="../../sime/TimedComponent.html" title="interface in sime">TimedComponent</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>timerType_</code> - the type of the timer that expired (<a href="../../sime/tcp/Sender.html#rtoTimer"><code>rtoTimer</code></a> or <a href="../../sime/tcp/Sender.html#idleConnectionTimer"><code>idleConnectionTimer</code></a>)</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../sime/TimedComponent.html" title="interface in sime"><code>TimedComponent</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Sender.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../sime/tcp/Segment.html" title="class in sime.tcp"><span class="strong">Prev Class</span></a></li>
<li><a href="../../sime/tcp/SenderNewReno.html" title="class in sime.tcp"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?sime/tcp/Sender.html" target="_top">Frames</a></li>
<li><a href="Sender.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
