<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_09) on Mon Dec 08 14:40:43 EST 2014 -->
<title>SenderStateCongestionAvoidance</title>
<meta name="date" content="2014-12-08">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SenderStateCongestionAvoidance";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SenderStateCongestionAvoidance.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../sime/tcp/SenderState.html" title="class in sime.tcp"><span class="strong">Prev Class</span></a></li>
<li><a href="../../sime/tcp/SenderStateFastRecovery.html" title="class in sime.tcp"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?sime/tcp/SenderStateCongestionAvoidance.html" target="_top">Frames</a></li>
<li><a href="SenderStateCongestionAvoidance.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_sime.tcp.SenderState">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">sime.tcp</div>
<h2 title="Class SenderStateCongestionAvoidance" class="title">Class SenderStateCongestionAvoidance</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../sime/tcp/SenderState.html" title="class in sime.tcp">sime.tcp.SenderState</a></li>
<li>
<ul class="inheritance">
<li>sime.tcp.SenderStateCongestionAvoidance</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">SenderStateCongestionAvoidance</span>
extends <a href="../../sime/tcp/SenderState.html" title="class in sime.tcp">SenderState</a></pre>
<div class="block">This class defines how a TCP sender behaves in
 the congestion avoidance state.<BR>
 There are some subtleties in the actual TCP standard
 that are not implemented here. For example,
 it is recommended that the sender increments its
 congestion window by one MSS per RTT, unless
 the receiver acknowledged less than one MSS
 during this period. This is to avoid security attacks
 by so-called "ACK Division".
 The reader should check the details in
 <a href="http://tools.ietf.org/html/rfc5681" target="page">RFC 5681</a>.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Ivan Marsic</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_sime.tcp.SenderState">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;sime.tcp.<a href="../../sime/tcp/SenderState.html" title="class in sime.tcp">SenderState</a></h3>
<code><a href="../../sime/tcp/SenderState.html#after3xDupACKstate">after3xDupACKstate</a>, <a href="../../sime/tcp/SenderState.html#congestionAvoidanceState">congestionAvoidanceState</a>, <a href="../../sime/tcp/SenderState.html#sender">sender</a>, <a href="../../sime/tcp/SenderState.html#slowStartState">slowStartState</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../sime/tcp/SenderStateCongestionAvoidance.html#SenderStateCongestionAvoidance(sime.tcp.Sender, sime.tcp.SenderState, sime.tcp.SenderState)">SenderStateCongestionAvoidance</a></strong>(<a href="../../sime/tcp/Sender.html" title="class in sime.tcp">Sender</a>&nbsp;sender,
                              <a href="../../sime/tcp/SenderState.html" title="class in sime.tcp">SenderState</a>&nbsp;slowStartState,
                              <a href="../../sime/tcp/SenderState.html" title="class in sime.tcp">SenderState</a>&nbsp;after3xDupACKstate)</code>
<div class="block">Constructor for the congestion avoidance state of a TCP sender.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/SenderStateCongestionAvoidance.html#calcCongWinAfterNewAck(int, int)">calcCongWinAfterNewAck</a></strong>(int&nbsp;ackSequenceNumber_,
                      int&nbsp;lastByteAcked_)</code>
<div class="block">Helper method to calculate the new value of the congestion
 window after a "new ACK" is received that acknowledges
 data never acknowledged before.<br />
 This method also resets the RTO timer for any outstanding segments.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../sime/tcp/SenderState.html" title="class in sime.tcp">SenderState</a></code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/SenderStateCongestionAvoidance.html#lookupNextStateAfterNewAck()">lookupNextStateAfterNewAck</a></strong>()</code>
<div class="block">Helper method to look-up the next state
 that the sender will transition to after this one.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/SenderStateCongestionAvoidance.html#setAfter3xDupACKstate(sime.tcp.SenderState)">setAfter3xDupACKstate</a></strong>(<a href="../../sime/tcp/SenderState.html" title="class in sime.tcp">SenderState</a>&nbsp;after3xDupACKstate)</code>
<div class="block">The reason for this method is that the constructors
 <a href="../../sime/tcp/SenderStateCongestionAvoidance.html" title="class in sime.tcp"><code>SenderStateCongestionAvoidance</code></a> and <a href="../../sime/tcp/SenderStateFastRecovery.html" title="class in sime.tcp"><code>SenderStateFastRecovery</code></a>
 need each other, so one has to be created first, and then
 the other will be set using this method.<BR>
 Thus package visibility only.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_sime.tcp.SenderState">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;sime.tcp.<a href="../../sime/tcp/SenderState.html" title="class in sime.tcp">SenderState</a></h3>
<code><a href="../../sime/tcp/SenderState.html#handleDupACK(sime.tcp.Segment)">handleDupACK</a>, <a href="../../sime/tcp/SenderState.html#handleNewACK(sime.tcp.Segment)">handleNewACK</a>, <a href="../../sime/tcp/SenderState.html#handleRTOtimeout(sime.tcp.Segment)">handleRTOtimeout</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SenderStateCongestionAvoidance(sime.tcp.Sender, sime.tcp.SenderState, sime.tcp.SenderState)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SenderStateCongestionAvoidance</h4>
<pre>public&nbsp;SenderStateCongestionAvoidance(<a href="../../sime/tcp/Sender.html" title="class in sime.tcp">Sender</a>&nbsp;sender,
                              <a href="../../sime/tcp/SenderState.html" title="class in sime.tcp">SenderState</a>&nbsp;slowStartState,
                              <a href="../../sime/tcp/SenderState.html" title="class in sime.tcp">SenderState</a>&nbsp;after3xDupACKstate)</pre>
<div class="block">Constructor for the congestion avoidance state of a TCP sender.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>sender</code> - </dd><dd><code>slowStartState</code> - Slow start state</dd><dd><code>after3xDupACKstate</code> - State to enter after three duplicate-ACKs are received (different for Tahoe vs. Reno)</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="calcCongWinAfterNewAck(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcCongWinAfterNewAck</h4>
<pre>protected&nbsp;int&nbsp;calcCongWinAfterNewAck(int&nbsp;ackSequenceNumber_,
                         int&nbsp;lastByteAcked_)</pre>
<div class="block">Helper method to calculate the new value of the congestion
 window after a "new ACK" is received that acknowledges
 data never acknowledged before.<br />
 This method also resets the RTO timer for any outstanding segments.</p>
 
 <p><a href="http://tools.ietf.org/html/rfc5681" target="page">RFC 5681</a>
 says that during congestion avoidance, TCP sender must not
 increase its congestion window by more than MSS bytes per round-trip time (RTT).<p>
 
 <p>RFC 5681 describes several ways of how this can be achieved.
 The recommended way to increase CongWin during congestion avoidance is
 to count the number of bytes that have been acknowledged by ACKs for
 new data. When the number of bytes acknowledged reaches CongWin,
 then CongWin can be incremented by up to MSS bytes.</p>
 
 <p>Another common method is to use the formula:
 <pre>
 CongWin += MSS*MSS/CongWin
 </pre>
 Note that for a connection where the receiver sends cumulative
 ACKs, this formula will lead to increasing CongWin by less
 than 1 full-sized segment per RTT.<p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../sime/tcp/SenderState.html#calcCongWinAfterNewAck(int, int)">calcCongWinAfterNewAck</a></code>&nbsp;in class&nbsp;<code><a href="../../sime/tcp/SenderState.html" title="class in sime.tcp">SenderState</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>ackSequenceNumber_</code> - acknowledged data sequence number</dd><dd><code>lastByteAcked_</code> - last byte previously acknowledged (not yet updated with this new ACK!)</dd>
<dt><span class="strong">Returns:</span></dt><dd>the new value of the congestion window</dd></dl>
</li>
</ul>
<a name="lookupNextStateAfterNewAck()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lookupNextStateAfterNewAck</h4>
<pre>protected&nbsp;<a href="../../sime/tcp/SenderState.html" title="class in sime.tcp">SenderState</a>&nbsp;lookupNextStateAfterNewAck()</pre>
<div class="block">Helper method to look-up the next state
 that the sender will transition to after this one.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../sime/tcp/SenderState.html#lookupNextStateAfterNewAck()">lookupNextStateAfterNewAck</a></code>&nbsp;in class&nbsp;<code><a href="../../sime/tcp/SenderState.html" title="class in sime.tcp">SenderState</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the next state to transition to.</dd></dl>
</li>
</ul>
<a name="setAfter3xDupACKstate(sime.tcp.SenderState)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setAfter3xDupACKstate</h4>
<pre>void&nbsp;setAfter3xDupACKstate(<a href="../../sime/tcp/SenderState.html" title="class in sime.tcp">SenderState</a>&nbsp;after3xDupACKstate)</pre>
<div class="block">The reason for this method is that the constructors
 <a href="../../sime/tcp/SenderStateCongestionAvoidance.html" title="class in sime.tcp"><code>SenderStateCongestionAvoidance</code></a> and <a href="../../sime/tcp/SenderStateFastRecovery.html" title="class in sime.tcp"><code>SenderStateFastRecovery</code></a>
 need each other, so one has to be created first, and then
 the other will be set using this method.<BR>
 Thus package visibility only.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>after3xDupACKstate</code> - the after3xDupACKstate to set</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SenderStateCongestionAvoidance.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../sime/tcp/SenderState.html" title="class in sime.tcp"><span class="strong">Prev Class</span></a></li>
<li><a href="../../sime/tcp/SenderStateFastRecovery.html" title="class in sime.tcp"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?sime/tcp/SenderStateCongestionAvoidance.html" target="_top">Frames</a></li>
<li><a href="SenderStateCongestionAvoidance.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_sime.tcp.SenderState">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
