<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_09) on Mon Dec 08 14:40:42 EST 2014 -->
<title>RTOEstimator</title>
<meta name="date" content="2014-12-08">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RTOEstimator";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RTOEstimator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../sime/tcp/Receiver.html" title="class in sime.tcp"><span class="strong">Prev Class</span></a></li>
<li><a href="../../sime/tcp/Segment.html" title="class in sime.tcp"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?sime/tcp/RTOEstimator.html" target="_top">Frames</a></li>
<li><a href="RTOEstimator.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">sime.tcp</div>
<h2 title="Class RTOEstimator" class="title">Class RTOEstimator</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>sime.tcp.RTOEstimator</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">RTOEstimator</span>
extends java.lang.Object</pre>
<div class="block">This class performs ongoing estimation of the TCP retransmission
 timeout time. A retransmission timer is used when
 expecting an acknowledgment from the receiving end.
 This implementation is based on 
 <a href="http://tools.ietf.org/html/rfc6298" target="page">RFC 6298</a> and
 TCP/IP Illustrated, Volume 1: The Protocols, by W. Richard Stevens
 (<a href="http://www.pcvr.nl/tcpip/tcp_time.htm" target="page">Chapter 21</a>).</p>
 
 <p>Note that the time units are the <em>simulator clock
 ticks</em>, instead of actual time units, such as seconds.</p>
 
 <p>The sending time of a segment is recorded as <a href="../../sime/tcp/Segment.html#timestamp"><code>Segment.timestamp</code></a>
 in the TCP header (similar to the timestamp option in
 the <em>Options</em> field of an actual TCP header)
 and returned by the corresponding acknowledgment packet.
 <a href="../../sime/tcp/Segment.html#timestamp"><code>Segment.timestamp</code></a> is set to <code>-1</code> if the segment is 
 a retransmitted segment, and no RTT estimation is performed 
 for retransmitted segments.
 <pre>
        SampleRTT = current_time - timestamp;
        EstimatedRTT[new] = (1 - alpha)*EstimatedRTT[old] + alpha*SampleRTT;
        Delta = |SampleRTT - EstimatedRTT[old]|;
        DeviationRTT[new] = (1 - beta)*DeviationRTT[old] + beta*Delta;
        </pre>
 The above should be computed using alpha=1/8 and beta=1/4.<BR>
 The exception is that when the first RTT measurement is made,
 the host <em>must</em> set:
 <pre>
        SampleRTT = current_time - timestamp;
        EstimatedRTT[new] = SampleRTT;
        DeviationRTT[new] = SampleRTT/2;
        </pre>
 The retransmission timer base is always computed as:
 <pre>
        TimeoutInterval[new] = EstimatedRTT[new] + max{ G, K*DeviationRTT[new] }.
 </pre>
 where <em>G</em> is the system clock granularity (in
 seconds), and <em>K</em> is usually set to <code>4</code>.<BR>
 (Check <a href="http://tools.ietf.org/html/rfc6298" target="page">RFC 6298</a> for
 discussion about the need for the clock granularity parameter <em>G</em>.)</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Ivan Marsic</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static int</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/RTOEstimator.html#alphaShift">alphaShift</a></strong></code>
<div class="block">Binary exponent of "alpha" weight for updating of
  the estimated RTT <a href="../../sime/tcp/RTOEstimator.html#estimatedRTT"><code>estimatedRTT</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/RTOEstimator.html#backoff">backoff</a></strong></code>
<div class="block">Current RTO timer backoff value (unitless number).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static int</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/RTOEstimator.html#betaShift">betaShift</a></strong></code>
<div class="block">Binary exponent of "beta" weight for updating of
  the RTT deviation <a href="../../sime/tcp/RTOEstimator.html#devRTT"><code>devRTT</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/RTOEstimator.html#deviationRTT_init">deviationRTT_init</a></strong></code>
<div class="block">Initial value of RTT deviation (in simulator clock ticks)
  (multiplied by "beta" <a href="../../sime/tcp/RTOEstimator.html#betaShift"><code>betaShift</code></a>)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/RTOEstimator.html#devRTT">devRTT</a></strong></code>
<div class="block">Current estimated RTT deviation (shifted by <a href="../../sime/tcp/RTOEstimator.html#betaShift"><code>betaShift</code></a>)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/RTOEstimator.html#estimatedRTT">estimatedRTT</a></strong></code>
<div class="block">Current estimated RTT value (in simulator clock ticks)<BR>
 (shifted by <a href="../../sime/tcp/RTOEstimator.html#alphaShift"><code>alphaShift</code></a>)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/RTOEstimator.html#estimatedRTT_init">estimatedRTT_init</a></strong></code>
<div class="block">Initial value of estimated RTT (in simulator clock ticks)
  (multiplied by "alpha" <a href="../../sime/tcp/RTOEstimator.html#alphaShift"><code>alphaShift</code></a>)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/RTOEstimator.html#maxTimeoutInterval">maxTimeoutInterval</a></strong></code>
<div class="block">Maximum value of a RTO timeout (in seconds).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static int</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/RTOEstimator.html#stdDevMultShift">stdDevMultShift</a></strong></code>
<div class="block">Binary exponent of deviation multiple used for
 computing <a href="../../sime/tcp/RTOEstimator.html#timeoutInterval"><code>timeoutInterval</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/RTOEstimator.html#tickDuration">tickDuration</a></strong></code>
<div class="block">Simulator clock tick duration (in seconds) for all the RTT variables.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/RTOEstimator.html#timeoutInterval">timeoutInterval</a></strong></code>
<div class="block">Current RTO timer value (in simulator clock ticks).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/RTOEstimator.html#timeoutInterval_init">timeoutInterval_init</a></strong></code>
<div class="block">Initial value of base RTO timer (in simulator clock ticks).</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../sime/tcp/RTOEstimator.html#RTOEstimator(double)">RTOEstimator</a></strong>(double&nbsp;tick_)</code>
<div class="block">Default constructor calls the other constructor
 with the initial values of the input parameters:
 <a href="../../sime/tcp/RTOEstimator.html#estimatedRTT_init"><code>estimatedRTT_init</code></a>, <a href="../../sime/tcp/RTOEstimator.html#deviationRTT_init"><code>deviationRTT_init</code></a>,
 <a href="../../sime/tcp/RTOEstimator.html#timeoutInterval_init"><code>timeoutInterval_init</code></a>, and <a href="../../sime/tcp/RTOEstimator.html#maxTimeoutInterval"><code>maxTimeoutInterval</code></a>,<BR>
 all given in real time units (seconds) for user convenience.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../sime/tcp/RTOEstimator.html#RTOEstimator(double, double, double, double, double)">RTOEstimator</a></strong>(double&nbsp;tick_,
            double&nbsp;estimRTT_init_,
            double&nbsp;deviatRTT_init_,
            double&nbsp;baseRTT_init_,
            double&nbsp;maxRTO_)</code>
<div class="block">The constructor initializes the variables for
  the retransmit timer.<BR>
  <b>Note:</b> The input parameters are given in
  real time units (seconds) for user convenience,
  and are converted in the constructor to
  the simulator clock ticks.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/RTOEstimator.html#getTimeoutInterval()">getTimeoutInterval</a></strong>()</code>
<div class="block">Returns the RTO timeout value (in simulator clock ticks)<BR>
 by multiplying the base value and the current backoff value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/RTOEstimator.html#timerBackoff()">timerBackoff</a></strong>()</code>
<div class="block">Backs off the RXT timer backoff, as specified in [RFC-6298].</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../sime/tcp/RTOEstimator.html#updateRTT(double, double)">updateRTT</a></strong>(double&nbsp;currentTime_,
         double&nbsp;timestamp_)</code>
<div class="block">Updates RTT estimations and recalculates Retransmission timer (RTO) base.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="alphaShift">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>alphaShift</h4>
<pre>static final&nbsp;int alphaShift</pre>
<div class="block">Binary exponent of "alpha" weight for updating of
  the estimated RTT <a href="../../sime/tcp/RTOEstimator.html#estimatedRTT"><code>estimatedRTT</code></a>.
  That is, 2^3 = 8 = 1/alpha.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../constant-values.html#sime.tcp.RTOEstimator.alphaShift">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="backoff">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>backoff</h4>
<pre>protected transient&nbsp;int backoff</pre>
<div class="block">Current RTO timer backoff value (unitless number).</div>
</li>
</ul>
<a name="betaShift">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>betaShift</h4>
<pre>static final&nbsp;int betaShift</pre>
<div class="block">Binary exponent of "beta" weight for updating of
  the RTT deviation <a href="../../sime/tcp/RTOEstimator.html#devRTT"><code>devRTT</code></a>.
  That is, 2^2 = 4 = 1/beta.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../constant-values.html#sime.tcp.RTOEstimator.betaShift">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="deviationRTT_init">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deviationRTT_init</h4>
<pre>protected&nbsp;int deviationRTT_init</pre>
<div class="block">Initial value of RTT deviation (in simulator clock ticks)
  (multiplied by "beta" <a href="../../sime/tcp/RTOEstimator.html#betaShift"><code>betaShift</code></a>)</div>
</li>
</ul>
<a name="devRTT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>devRTT</h4>
<pre>protected transient&nbsp;int devRTT</pre>
<div class="block">Current estimated RTT deviation (shifted by <a href="../../sime/tcp/RTOEstimator.html#betaShift"><code>betaShift</code></a>)</div>
</li>
</ul>
<a name="estimatedRTT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>estimatedRTT</h4>
<pre>protected transient&nbsp;int estimatedRTT</pre>
<div class="block">Current estimated RTT value (in simulator clock ticks)<BR>
 (shifted by <a href="../../sime/tcp/RTOEstimator.html#alphaShift"><code>alphaShift</code></a>)</div>
</li>
</ul>
<a name="estimatedRTT_init">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>estimatedRTT_init</h4>
<pre>protected&nbsp;int estimatedRTT_init</pre>
<div class="block">Initial value of estimated RTT (in simulator clock ticks)
  (multiplied by "alpha" <a href="../../sime/tcp/RTOEstimator.html#alphaShift"><code>alphaShift</code></a>)</div>
</li>
</ul>
<a name="maxTimeoutInterval">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxTimeoutInterval</h4>
<pre>protected&nbsp;double maxTimeoutInterval</pre>
<div class="block">Maximum value of a RTO timeout (in seconds).
 <a href="http://tools.ietf.org/html/rfc6298" target="page">RFC 6298</a>
 states that a maximum value may be placed on RTO provided
  it is at least 60 seconds. The page:
  <a href="https://support.microsoft.com/kb/170359/en-us" target="page">How to modify the TCP/IP maximum retransmission time-out</a>
  says that the retransmission timer should not exceed 240 seconds.<br />
  We set the maximum value to 240 (in the <em>simulator clock ticks</em>),
  assuming tick duration equals 1; it will be corrected in the constructor
  <a href="../../sime/tcp/RTOEstimator.html#RTOEstimator(double, double, double, double, double)"><code>RTOEstimator(double,double,double,double,double)</code></a>.</div>
</li>
</ul>
<a name="stdDevMultShift">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stdDevMultShift</h4>
<pre>static final&nbsp;int stdDevMultShift</pre>
<div class="block">Binary exponent of deviation multiple used for
 computing <a href="../../sime/tcp/RTOEstimator.html#timeoutInterval"><code>timeoutInterval</code></a>.
 This is the <code>K</code> multiplier, usually set as
 <code>K = 4 = 2^2</code>.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../constant-values.html#sime.tcp.RTOEstimator.stdDevMultShift">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="tickDuration">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tickDuration</h4>
<pre>protected&nbsp;double tickDuration</pre>
<div class="block">Simulator clock tick duration (in seconds) for all the RTT variables.
 Real TCP implementations use two timer granularities:<BR>
 (i) the <em>fast timer</em>, called every 200ms, and<BR>
 (ii) the <em>slow timer</em>, called every 500ms.<BR>
 All TCP timers are expressed in terms of the number of ticks of these two timers.
 The timer counts for the RTO timer, <a href="../../sime/tcp/Receiver.html#delayedACKtimer"><code>Receiver.delayedACKtimer</code></a>, etc.,
 are decremented by 1 every timer the fast or slow timer expires.
 Only <a href="../../sime/tcp/Receiver.html#delayedACKtimer"><code>Receiver.delayedACKtimer</code></a> is expressed in terms of the fast
 timer ticks, and all other TCP timers are expressed in terms of the
 slow timer ticks. Unfortunately, because of coarse granularity of our time simulation,
 currently we do <em>not</em> implement these timers.
 A good discussion of TCP timers is available in
 <a href="http://www.cl.cam.ac.uk/research/dtg/lce-pub/public/kjm25/CUED_F-INFENG_TR487.pdf" target="page">Tweaking TCP's Timers<a>.</div>
</li>
</ul>
<a name="timeoutInterval">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>timeoutInterval</h4>
<pre>protected transient&nbsp;double timeoutInterval</pre>
<div class="block">Current RTO timer value (in simulator clock ticks).</div>
</li>
</ul>
<a name="timeoutInterval_init">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>timeoutInterval_init</h4>
<pre>protected&nbsp;double timeoutInterval_init</pre>
<div class="block">Initial value of base RTO timer (in simulator clock ticks).</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RTOEstimator(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RTOEstimator</h4>
<pre>public&nbsp;RTOEstimator(double&nbsp;tick_)</pre>
<div class="block">Default constructor calls the other constructor
 with the initial values of the input parameters:
 <a href="../../sime/tcp/RTOEstimator.html#estimatedRTT_init"><code>estimatedRTT_init</code></a>, <a href="../../sime/tcp/RTOEstimator.html#deviationRTT_init"><code>deviationRTT_init</code></a>,
 <a href="../../sime/tcp/RTOEstimator.html#timeoutInterval_init"><code>timeoutInterval_init</code></a>, and <a href="../../sime/tcp/RTOEstimator.html#maxTimeoutInterval"><code>maxTimeoutInterval</code></a>,<BR>
 all given in real time units (seconds) for user convenience.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tick_</code> - time unit for RTT variables.</dd></dl>
</li>
</ul>
<a name="RTOEstimator(double, double, double, double, double)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RTOEstimator</h4>
<pre>public&nbsp;RTOEstimator(double&nbsp;tick_,
            double&nbsp;estimRTT_init_,
            double&nbsp;deviatRTT_init_,
            double&nbsp;baseRTT_init_,
            double&nbsp;maxRTO_)</pre>
<div class="block">The constructor initializes the variables for
  the retransmit timer.<BR>
  <b>Note:</b> The input parameters are given in
  real time units (seconds) for user convenience,
  and are converted in the constructor to
  the simulator clock ticks.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tick_</code> - time unit for RTT variables.</dd><dd><code>estimRTT_init_</code> - initial value of estimated RTT.</dd><dd><code>deviatRTT_init_</code> - initial value of RTT deviation.</dd><dd><code>baseRTT_init_</code> - initial value of TimeoutInterval.</dd><dd><code>maxRTO_</code> - the maximum value of retransmission timeout.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getTimeoutInterval()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimeoutInterval</h4>
<pre>protected&nbsp;double&nbsp;getTimeoutInterval()</pre>
<div class="block">Returns the RTO timeout value (in simulator clock ticks)<BR>
 by multiplying the base value and the current backoff value.</div>
</li>
</ul>
<a name="timerBackoff()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>timerBackoff</h4>
<pre>protected&nbsp;void&nbsp;timerBackoff()</pre>
<div class="block">Backs off the RXT timer backoff, as specified in [RFC-6298].
 The sender must set RTO &larr; RTO &times; 2 ("back off the timer").
 As discussed in RFC-6298, the maximum value may be used
 to provide an upper bound to this doubling operation.</div>
</li>
</ul>
<a name="updateRTT(double, double)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>updateRTT</h4>
<pre>protected&nbsp;void&nbsp;updateRTT(double&nbsp;currentTime_,
             double&nbsp;timestamp_)</pre>
<div class="block">Updates RTT estimations and recalculates Retransmission timer (RTO) base.
 RTO base is calculated after each new ACK is received, using the
 <a href="http://en.wikipedia.org/wiki/Karn%27s_Algorithm" target="page">Karn algorithm</a>.
 The estimation method is same as in
 <a href="http://tools.ietf.org/html/rfc6298" target="page">RFC 6298</a>.
 The sending time of a packet is reflected back by acknowledgment
 packet as <code>timestamp_</code> in header (carried as part of
 the Options field in a real TCP/IP header).
 The <code>timestamp_</code> equal <code>-1</code> signifies a
 retransmitted segment, so no RTT estimation updating is done for
 such a segment.
 The algorithm is:
 <pre>
 EstimatedRTT[new] = 7/8&times;EstimatedRTT[old] + 1/8&times;SampleRTT;
 Delta = |SampleRTT - EstimatedRTT[old]|;
 DeviationRTT[new] = 3/4&times;DeviationRTT[old] + 1/4&times;Delta;
 </pre>
 When the first RTT measurement is made, the host <em>must</em> set:
 <pre>
 EstimatedRTT[new] = SampleRTT;
 DeviationRTT[new] = SampleRTT/2;
 </pre>
 The retransmission timer base is always:
 <pre>
 TimeoutInterval[new] = EstimatedRTT[new] + 4&times;DeviationRTT[new].
 </pre></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>currentTime_</code> - &nbsp;the current reference time.</dd><dd><code>timestamp_</code> - &nbsp;the time when this acknowledged segment was originally sent.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RTOEstimator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../sime/tcp/Receiver.html" title="class in sime.tcp"><span class="strong">Prev Class</span></a></li>
<li><a href="../../sime/tcp/Segment.html" title="class in sime.tcp"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?sime/tcp/RTOEstimator.html" target="_top">Frames</a></li>
<li><a href="RTOEstimator.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
